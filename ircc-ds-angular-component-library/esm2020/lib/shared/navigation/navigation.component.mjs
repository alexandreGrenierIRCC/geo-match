import { Input, ViewChild } from '@angular/core';
import { Component } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "./navigation.service";
import * as i2 from "@angular/common";
import * as i3 from "../icon/icon.component";
import * as i4 from "./nav-item-heading/nav-item-heading.component";
import * as i5 from "./nav-item-nav/nav-item-nav.component";
import * as i6 from "./nav-item-accordion/nav-item-accordion.component";
import * as i7 from "./nav-item-divider/nav-item-divider.component";
import * as i8 from "@ngx-translate/core";
export class navigationComponent {
    constructor(navService, renderer) {
        this.navService = navService;
        this.renderer = renderer;
        this.id = '';
        this.label = '';
        this.iconLeading = '';
        this.iconTrailing = '';
        //TODO: NavigationItem and all other interfaces must be renamed starting with 'I'
        this.navigationConfig = [];
        this.flattenNavigation = [];
        this.config = {
            id: '',
            label: '',
            iconLeading: '',
            iconTrailing: '',
            size: 'small',
            navigationConfig: [],
            scrolling: false,
            height: '75vh',
            marginTop: 0
        };
        this.listenerScroll = () => { };
        this.listenerResize = () => { };
        this.isArray = (obj) => {
            return Array.isArray(obj);
        };
        this.arrayOfObject = (obj) => {
            return Object.keys(obj);
        };
        this.getIconsStatus = () => {
            return (this.config &&
                (this.config?.iconLeading || '').length > 0 &&
                (this.config?.iconTrailing || '').length > 0);
        };
        //These are in THIS component, not in it's own. I.e. the buttons in the actual
        //header are not in a child component.
        this.clickIconLeading = (event) => {
            this.navService.navEvent({ id: this.config.id, event: event });
        };
        this.clickIconTrailing = (event) => {
            this.navService.navEvent({ id: this.config.id, event: event });
        };
        this.navigationClass = () => {
            if (((this.config?.iconLeading?.length || ''.length > 0) &&
                this.config?.iconTrailing?.length) ||
                ''.length > 0) {
                return 'header-full';
            }
            else if (this.config?.iconLeading?.length || ''.length > 0) {
                return 'header-iconleading';
            }
            else if (this.config?.iconTrailing?.length || ''.length > 0) {
                return 'header-icontrailing';
            }
            return '';
        };
        this.getHeight = () => {
            this.listenerScroll();
            this.listenerResize();
            if (this.complicatedMaths() === true) {
                this.disableStickyNav();
                this.setScrollableNavigationArea();
                this.listenerResize = this.renderer.listen('window', 'resize', () => {
                    this.setScrollableNavigationArea();
                });
            }
            else if (this.complicatedMaths() === false) {
                this.disableSetScrollableNavigationArea();
                this.setStickyNav();
                this.listenerScroll = this.renderer.listen('window', 'scroll', () => {
                    this.scrolling();
                });
            }
        };
        this.scrolling = () => {
            if (this.scrollTimeout) {
                clearTimeout(this.scrollTimeout);
            }
            this.scrollTimeout = setTimeout((() => {
                this.setStickyNav();
            }).bind(this), 50);
        };
        this.setStickyNav = () => {
            if (window.pageYOffset > this.navigationHeader?.nativeElement.offsetHeight) {
                this.renderer.addClass(this.navigationHeader?.nativeElement, 'position-fixed');
                this.renderer.setStyle(this.navigationHeader?.nativeElement, 'top', `${this.config?.marginTop}px`);
                this.renderer.setStyle(this.navigationAreaScroll?.nativeElement, 'margin-top', this.navigationHeader?.nativeElement.offsetHeight +
                    this.config?.marginTop +
                    'px');
            }
            else {
                this.renderer.removeClass(this.navigationHeader?.nativeElement, 'position-fixed');
                this.renderer.removeStyle(this.navigationHeader?.nativeElement, 'top');
                this.renderer.removeStyle(this.navigationAreaScroll?.nativeElement, 'margin-top');
            }
        };
        this.disableStickyNav = () => {
            this.renderer.removeClass(this.navigationHeader?.nativeElement, 'position-fixed');
            this.renderer.removeStyle(this.navigationHeader?.nativeElement, 'top');
            this.renderer.removeStyle(this.navigationAreaScroll?.nativeElement, 'margin-top');
            this.renderer.removeStyle(this.navigationArea?.nativeElement, 'height');
        };
        this.complicatedMaths = () => {
            let windowheight = window.innerHeight;
            let usableHeight = windowheight -
                (this.navigationHeader?.nativeElement.offsetHeight +
                    this.navigationContentTop?.nativeElement.offsetHeight +
                    this.navigationContentBottom?.nativeElement.offsetHeight);
            return usableHeight > windowheight / 2 ? true : false;
        };
        this.setScrollableNavigationArea = () => {
            this.renderer.setStyle(this.navigation?.nativeElement, 'height', this.config.height);
            this.renderer.setStyle(this.navigation?.nativeElement, 'overflow-y', 'auto');
            this.renderer.setStyle(this.navigation?.nativeElement, 'overflow-x', 'clip');
        };
        this.disableSetScrollableNavigationArea = () => {
            this.renderer.removeStyle(this.navigation?.nativeElement, 'height');
            this.renderer.removeStyle(this.navigation?.nativeElement, 'overflow-y');
            this.renderer.removeStyle(this.navigation?.nativeElement, 'overflow-x');
        };
        this.setIndex = (index) => {
            return (index += 1);
        };
    }
    ngOnInit() {
        this.configSub = this.navService.navConfigObs$.subscribe((response) => {
            this.config = response;
        });
    }
    ngAfterViewInit() {
        if (this.config.scrolling === true) {
            this.getHeight();
            this.renderer.listen('window', 'resize', () => {
                this.getHeight();
            });
        }
    }
}
navigationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: navigationComponent, deps: [{ token: i1.NavigationService }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
navigationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: navigationComponent, selector: "ircc-cl-lib-navigation", inputs: { id: "id", label: "label", iconLeading: "iconLeading", iconTrailing: "iconTrailing", size: "size", navigationConfig: "navigationConfig" }, viewQueries: [{ propertyName: "navigationHeader", first: true, predicate: ["navigationHeader"], descendants: true }, { propertyName: "navigationContentTop", first: true, predicate: ["navigationContentTop"], descendants: true }, { propertyName: "navigationContentBottom", first: true, predicate: ["navigationContentBottom"], descendants: true }, { propertyName: "navigationArea", first: true, predicate: ["navigationArea"], descendants: true }, { propertyName: "navigationAreaScroll", first: true, predicate: ["navigationAreaScroll"], descendants: true }, { propertyName: "navigation", first: true, predicate: ["navigation"], descendants: true }], ngImport: i0, template: "<div\n  [id]=\"config.id\"\n  [attr.size]=\"config.size\"\n  class=\"lib-navigation\"\n  #navigation\n>\n  <div\n    class=\"navigation-header\"\n    [class]=\"navigationClass()\"\n    #navigationHeader\n  >\n    <ircc-cl-lib-icon\n      class=\"icon-leading\"\n      [config]=\"{ FA_keywords: config?.iconLeading || '' }\"\n      (click)=\"clickIconLeading(config.id + '_icon_leading')\"\n      [attr.size]=\"config.size\"\n    ></ircc-cl-lib-icon>\n    <h3>{{ config?.label || '' | translate }}</h3>\n    <ircc-cl-lib-icon\n      [id]=\"config.id + '_icon_trailing'\"\n      class=\"icon-trailing\"\n      [attr.size]=\"config.size\"\n      [config]=\"{ FA_keywords: config?.iconTrailing || '' }\"\n      (click)=\"clickIconTrailing(config.id + '_icon_trailing')\"\n    ></ircc-cl-lib-icon>\n  </div>\n\n  <div #navigationAreaScroll>\n    <!-- prettier-ignore -->\n    <div class=\"navigation-content-top\" #navigationContentTop ><ng-content select=\"[navigationContentTop]\"></ng-content></div>\n\n    <!-- TODO: Document this like crazy - recursive templating is cool, but EXTREMELY unusual -->\n    <div\n      class=\"navigation-area\"\n      #navigationArea\n    >\n      <ul class=\"parent-navigation\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            recursiveListTmpl;\n            context: { list: this.config.navigationConfig, index: 0 }\n          \"\n        ></ng-container>\n      </ul>\n    </div>\n\n    <ng-template\n      #recursiveListTmpl\n      let-list=\"list\"\n      let-index=\"index\"\n    >\n      <li *ngFor=\"let item of list\">\n        <ng-container [ngSwitch]=\"item.type\">\n          <!--Type Heading-->\n          <ng-container *ngSwitchCase=\"'heading'\"\n            ><ircc-cl-lib-nav-header\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul></ircc-cl-lib-nav-header\n          ></ng-container>\n\n          <!--Type Link-->\n          <ng-container *ngSwitchCase=\"'link'\">\n            <ircc-cl-lib-nav-item\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul></ircc-cl-lib-nav-item\n          ></ng-container>\n\n          <!--Type Accordion-->\n          <ng-container *ngSwitchCase=\"'accordion'\">\n            <ircc-cl-lib-nav-accordion\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul\n            ></ircc-cl-lib-nav-accordion>\n          </ng-container>\n\n          <ng-container *ngSwitchCase=\"'divider'\">\n            <ircc-cl-lib-nav-divider\n              [attr.size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul\n            ></ircc-cl-lib-nav-divider>\n          </ng-container>\n        </ng-container>\n      </li>\n    </ng-template>\n\n    <!-- prettier-ignore -->\n    <div class=\"navigation-content-bottom\" #navigationContentBottom><ng-content select=\"[navigationContentBottom]\"></ng-content></div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: i2.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "component", type: i3.IconComponent, selector: "ircc-cl-lib-icon", inputs: ["config", "ariaLabel", "FA_keywords", "size"] }, { kind: "component", type: i4.navItemHeadingComponent, selector: "ircc-cl-lib-nav-header", inputs: ["config", "id", "label", "iconLeading", "children", "size"] }, { kind: "component", type: i5.navItemNavComponent, selector: "ircc-cl-lib-nav-item", inputs: ["config", "id", "size", "indicator"] }, { kind: "component", type: i6.navItemAccordionComponent, selector: "ircc-cl-lib-nav-accordion", inputs: ["config", "id", "open", "label", "size", "iconLeading"] }, { kind: "component", type: i7.navItemDividerComponent, selector: "ircc-cl-lib-nav-divider", inputs: ["config", "id"] }, { kind: "pipe", type: i8.TranslatePipe, name: "translate" }], preserveWhitespaces: true });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: navigationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ircc-cl-lib-navigation', template: "<div\n  [id]=\"config.id\"\n  [attr.size]=\"config.size\"\n  class=\"lib-navigation\"\n  #navigation\n>\n  <div\n    class=\"navigation-header\"\n    [class]=\"navigationClass()\"\n    #navigationHeader\n  >\n    <ircc-cl-lib-icon\n      class=\"icon-leading\"\n      [config]=\"{ FA_keywords: config?.iconLeading || '' }\"\n      (click)=\"clickIconLeading(config.id + '_icon_leading')\"\n      [attr.size]=\"config.size\"\n    ></ircc-cl-lib-icon>\n    <h3>{{ config?.label || '' | translate }}</h3>\n    <ircc-cl-lib-icon\n      [id]=\"config.id + '_icon_trailing'\"\n      class=\"icon-trailing\"\n      [attr.size]=\"config.size\"\n      [config]=\"{ FA_keywords: config?.iconTrailing || '' }\"\n      (click)=\"clickIconTrailing(config.id + '_icon_trailing')\"\n    ></ircc-cl-lib-icon>\n  </div>\n\n  <div #navigationAreaScroll>\n    <!-- prettier-ignore -->\n    <div class=\"navigation-content-top\" #navigationContentTop ><ng-content select=\"[navigationContentTop]\"></ng-content></div>\n\n    <!-- TODO: Document this like crazy - recursive templating is cool, but EXTREMELY unusual -->\n    <div\n      class=\"navigation-area\"\n      #navigationArea\n    >\n      <ul class=\"parent-navigation\">\n        <ng-container\n          *ngTemplateOutlet=\"\n            recursiveListTmpl;\n            context: { list: this.config.navigationConfig, index: 0 }\n          \"\n        ></ng-container>\n      </ul>\n    </div>\n\n    <ng-template\n      #recursiveListTmpl\n      let-list=\"list\"\n      let-index=\"index\"\n    >\n      <li *ngFor=\"let item of list\">\n        <ng-container [ngSwitch]=\"item.type\">\n          <!--Type Heading-->\n          <ng-container *ngSwitchCase=\"'heading'\"\n            ><ircc-cl-lib-nav-header\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul></ircc-cl-lib-nav-header\n          ></ng-container>\n\n          <!--Type Link-->\n          <ng-container *ngSwitchCase=\"'link'\">\n            <ircc-cl-lib-nav-item\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul></ircc-cl-lib-nav-item\n          ></ng-container>\n\n          <!--Type Accordion-->\n          <ng-container *ngSwitchCase=\"'accordion'\">\n            <ircc-cl-lib-nav-accordion\n              [attr.size]=\"config.size\"\n              [size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul\n            ></ircc-cl-lib-nav-accordion>\n          </ng-container>\n\n          <ng-container *ngSwitchCase=\"'divider'\">\n            <ircc-cl-lib-nav-divider\n              [attr.size]=\"config.size\"\n              [config]=\"item\"\n            >\n              <ul\n                *ngIf=\"item.children.length > 0\"\n                class=\"child-navigation\"\n                [class]=\"'indent-' + index\"\n              >\n                <ng-container\n                  *ngTemplateOutlet=\"\n                    recursiveListTmpl;\n                    context: { list: item.children, index: setIndex(index) }\n                  \"\n                ></ng-container></ul\n            ></ircc-cl-lib-nav-divider>\n          </ng-container>\n        </ng-container>\n      </li>\n    </ng-template>\n\n    <!-- prettier-ignore -->\n    <div class=\"navigation-content-bottom\" #navigationContentBottom><ng-content select=\"[navigationContentBottom]\"></ng-content></div>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.NavigationService }, { type: i0.Renderer2 }]; }, propDecorators: { navigationHeader: [{
                type: ViewChild,
                args: ['navigationHeader', { static: false }]
            }], navigationContentTop: [{
                type: ViewChild,
                args: ['navigationContentTop', { static: false }]
            }], navigationContentBottom: [{
                type: ViewChild,
                args: ['navigationContentBottom', { static: false }]
            }], navigationArea: [{
                type: ViewChild,
                args: ['navigationArea', { static: false }]
            }], navigationAreaScroll: [{
                type: ViewChild,
                args: ['navigationAreaScroll', { static: false }]
            }], navigation: [{
                type: ViewChild,
                args: ['navigation', { static: false }]
            }], id: [{
                type: Input
            }], label: [{
                type: Input
            }], iconLeading: [{
                type: Input
            }], iconTrailing: [{
                type: Input
            }], size: [{
                type: Input
            }], navigationConfig: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9jb21wb25lbnQtbGliL3NyYy9saWIvc2hhcmVkL25hdmlnYXRpb24vbmF2aWdhdGlvbi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9jb21wb25lbnQtbGliL3NyYy9saWIvc2hhcmVkL25hdmlnYXRpb24vbmF2aWdhdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBSUwsS0FBSyxFQUlMLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUFVLE1BQU0sZUFBZSxDQUFDOzs7Ozs7Ozs7O0FBVWxELE1BQU0sT0FBTyxtQkFBbUI7SUE4QzlCLFlBQ1UsVUFBNkIsRUFDN0IsUUFBbUI7UUFEbkIsZUFBVSxHQUFWLFVBQVUsQ0FBbUI7UUFDN0IsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQTNCcEIsT0FBRSxHQUFXLEVBQUUsQ0FBQztRQUNoQixVQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ25CLGdCQUFXLEdBQVcsRUFBRSxDQUFDO1FBQ3pCLGlCQUFZLEdBQVcsRUFBRSxDQUFDO1FBRW5DLGlGQUFpRjtRQUN4RSxxQkFBZ0IsR0FBMkIsRUFBRSxDQUFDO1FBRXZELHNCQUFpQixHQUEyQixFQUFFLENBQUM7UUFDL0MsV0FBTSxHQUFzQjtZQUMxQixFQUFFLEVBQUUsRUFBRTtZQUNOLEtBQUssRUFBRSxFQUFFO1lBQ1QsV0FBVyxFQUFFLEVBQUU7WUFDZixZQUFZLEVBQUUsRUFBRTtZQUNoQixJQUFJLEVBQUUsT0FBTztZQUNiLGdCQUFnQixFQUFFLEVBQUU7WUFDcEIsU0FBUyxFQUFFLEtBQUs7WUFDaEIsTUFBTSxFQUFFLE1BQU07WUFDZCxTQUFTLEVBQUUsQ0FBQztTQUNiLENBQUM7UUFJRixtQkFBYyxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMs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QUs7Z0JBRUcsZ0JBQWdCO3NCQUF4QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgRWxlbWVudFJlZixcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBSZW5kZXJlcjIsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEU1NpemVzIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2NvbnN0YW50cy9qbC1jb21wb25lbnRzLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBJTmF2aWdhdGlvbkl0ZW0sIElOYXZpZ2F0aW9uQ29uZmlnIH0gZnJvbSAnLi9uYXZpZ2F0aW9uLnR5cGVzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTmF2aWdhdGlvblNlcnZpY2UgfSBmcm9tICcuL25hdmlnYXRpb24uc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2lyY2MtY2wtbGliLW5hdmlnYXRpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vbmF2aWdhdGlvbi5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgbmF2aWdhdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBWaWV3Q2hpbGQoJ25hdmlnYXRpb25IZWFkZXInLCB7IHN0YXRpYzogZmFsc2UgfSkgbmF2aWdhdGlvbkhlYWRlcjpcbiAgICB8IEVsZW1lbnRSZWZcbiAgICB8IHVuZGVmaW5lZDtcblxuICBAVmlld0NoaWxkKCduYXZpZ2F0aW9uQ29udGVudFRvcCcsIHsgc3RhdGljOiBmYWxzZSB9KSBuYXZpZ2F0aW9uQ29udGVudFRvcDpcbiAgICB8IEVsZW1lbnRSZWZcbiAgICB8IHVuZGVmaW5lZDtcblxuICBAVmlld0NoaWxkKCduYXZpZ2F0aW9uQ29udGVudEJvdHRvbScsIHsgc3RhdGljOiBmYWxzZSB9KVxuICBuYXZpZ2F0aW9uQ29udGVudEJvdHRvbTogRWxlbWVudFJlZiB8IHVuZGVmaW5lZDtcblxuICBAVmlld0NoaWxkKCduYXZpZ2F0aW9uQXJlYScsIHsgc3RhdGljOiBmYWxzZSB9KVxuICBuYXZpZ2F0aW9uQXJlYTogRWxlbWVudFJlZiB8IHVuZGVmaW5lZDtcblxuICBAVmlld0NoaWxkKCduYXZpZ2F0aW9uQXJlYVNjcm9sbCcsIHsgc3RhdGljOiBmYWxzZSB9KVxuICBuYXZpZ2F0aW9uQXJlYVNjcm9sbDogRWxlbWVudFJlZiB8IHVuZGVmaW5lZDtcblxuICBAVmlld0NoaWxkKCduYXZpZ2F0aW9uJywgeyBzdGF0aWM6IGZhbHNlIH0pXG4gIG5hdmlnYXRpb246IEVsZW1lbnRSZWYgfCB1bmRlZmluZWQ7XG5cbiAgQElucHV0KCkgaWQ6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIGljb25MZWFkaW5nOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgaWNvblRyYWlsaW5nOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgc2l6ZToga2V5b2YgdHlwZW9mIERTU2l6ZXMgfCB1bmRlZmluZWQ7XG4gIC8vVE9ETzogTmF2aWdhdGlvbkl0ZW0gYW5kIGFsbCBvdGhlciBpbnRlcmZhY2VzIG11c3QgYmUgcmVuYW1lZCBzdGFydGluZyB3aXRoICdJJ1xuICBASW5wdXQoKSBuYXZpZ2F0aW9uQ29uZmlnOiBBcnJheTxJTmF2aWdhdGlvbkl0ZW0+ID0gW107XG5cbiAgZmxhdHRlbk5hdmlnYXRpb246IEFycmF5PElOYXZpZ2F0aW9uSXRlbT4gPSBbXTtcbiAgY29uZmlnOiBJTmF2aWdhdGlvbkNvbmZpZyA9IHtcbiAgICBpZDogJycsXG4gICAgbGFiZWw6ICcnLFxuICAgIGljb25MZWFkaW5nOiAnJyxcbiAgICBpY29uVHJhaWxpbmc6ICcnLFxuICAgIHNpemU6ICdzbWFsbCcsXG4gICAgbmF2aWdhdGlvbkNvbmZpZzogW10sXG4gICAgc2Nyb2xsaW5nOiBmYWxzZSxcbiAgICBoZWlnaHQ6ICc3NXZoJyxcbiAgICBtYXJnaW5Ub3A6IDBcbiAgfTtcbiAgY29uZmlnU3ViPzogU3Vic2NyaXB0aW9uO1xuICBzY3JvbGxUaW1lb3V0OiBhbnk7XG5cbiAgbGlzdGVuZXJTY3JvbGwgPSAoKSA9PiB7fTtcbiAgbGlzdGVuZXJSZXNpemUgPSAoKSA9PiB7fTtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBuYXZTZXJ2aWNlOiBOYXZpZ2F0aW9uU2VydmljZSxcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjJcbiAgKSB7fVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuY29uZmlnU3ViID0gdGhpcy5uYXZTZXJ2aWNlLm5hdkNvbmZpZ09icyQuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5jb25maWcgPSByZXNwb25zZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXJyYXkgPSAob2JqOiBhbnkpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xuICB9O1xuXG4gIGFycmF5T2ZPYmplY3QgPSAob2JqOiBhbnkpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcbiAgfTtcblxuICBnZXRJY29uc1N0YXR1cyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jb25maWcgJiZcbiAgICAgICh0aGlzLmNvbmZpZz8uaWNvbkxlYWRpbmcgfHwgJycpLmxlbmd0aCA+IDAgJiZcbiAgICAgICh0aGlzLmNvbmZpZz8uaWNvblRyYWlsaW5nIHx8ICcnKS5sZW5ndGggPiAwXG4gICAgKTtcbiAgfTtcblxuICAvL1RoZXNlIGFyZSBpbiBUSElTIGNvbXBvbmVudCwgbm90IGluIGl0J3Mgb3duLiBJLmUuIHRoZSBidXR0b25zIGluIHRoZSBhY3R1YWxcbiAgLy9oZWFkZXIgYXJlIG5vdCBpbiBhIGNoaWxkIGNvbXBvbmVudC5cbiAgY2xpY2tJY29uTGVhZGluZyA9IChldmVudDogYW55KSA9PiB7XG4gICAgdGhpcy5uYXZTZXJ2aWNlLm5hdkV2ZW50KHsgaWQ6IHRoaXMuY29uZmlnLmlkLCBldmVudDogZXZlbnQgfSk7XG4gIH07XG4gIGNsaWNrSWNvblRyYWlsaW5nID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICB0aGlzLm5hdlNlcnZpY2UubmF2RXZlbnQoeyBpZDogdGhpcy5jb25maWcuaWQsIGV2ZW50OiBldmVudCB9KTtcbiAgfTtcblxuICBuYXZpZ2F0aW9uQ2xhc3MgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZiAoXG4gICAgICAoKHRoaXMuY29uZmlnPy5pY29uTGVhZGluZz8ubGVuZ3RoIHx8ICcnLmxlbmd0aCA+IDApICYmXG4gICAgICAgIHRoaXMuY29uZmlnPy5pY29uVHJhaWxpbmc/Lmxlbmd0aCkgfHxcbiAgICAgICcnLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHJldHVybiAnaGVhZGVyLWZ1bGwnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWc/Lmljb25MZWFkaW5nPy5sZW5ndGggfHwgJycubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuICdoZWFkZXItaWNvbmxlYWRpbmcnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWc/Lmljb25UcmFpbGluZz8ubGVuZ3RoIHx8ICcnLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAnaGVhZGVyLWljb250cmFpbGluZyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9O1xuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAodGhpcy5jb25maWcuc2Nyb2xsaW5nID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmdldEhlaWdodCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5saXN0ZW4oJ3dpbmRvdycsICdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0SGVpZ2h0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRIZWlnaHQgPSAoKSA9PiB7XG4gICAgdGhpcy5saXN0ZW5lclNjcm9sbCgpO1xuICAgIHRoaXMubGlzdGVuZXJSZXNpemUoKTtcblxuICAgIGlmICh0aGlzLmNvbXBsaWNhdGVkTWF0aHMoKSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5kaXNhYmxlU3RpY2t5TmF2KCk7XG4gICAgICB0aGlzLnNldFNjcm9sbGFibGVOYXZpZ2F0aW9uQXJlYSgpO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyUmVzaXplID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oJ3dpbmRvdycsICdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsYWJsZU5hdmlnYXRpb25BcmVhKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29tcGxpY2F0ZWRNYXRocygpID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5kaXNhYmxlU2V0U2Nyb2xsYWJsZU5hdmlnYXRpb25BcmVhKCk7XG4gICAgICB0aGlzLnNldFN0aWNreU5hdigpO1xuICAgICAgdGhpcy5saXN0ZW5lclNjcm9sbCA9IHRoaXMucmVuZGVyZXIubGlzdGVuKCd3aW5kb3cnLCAnc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGluZygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHNjcm9sbGluZyA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5zY3JvbGxUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lb3V0KTtcbiAgICB9XG4gICAgdGhpcy5zY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RpY2t5TmF2KCk7XG4gICAgICB9KS5iaW5kKHRoaXMpLFxuICAgICAgNTBcbiAgICApO1xuICB9O1xuXG4gIHNldFN0aWNreU5hdiA9ICgpID0+IHtcbiAgICBpZiAoXG4gICAgICB3aW5kb3cucGFnZVlPZmZzZXQgPiB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKFxuICAgICAgICB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQsXG4gICAgICAgICdwb3NpdGlvbi1maXhlZCdcbiAgICAgICk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxuICAgICAgICB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQsXG4gICAgICAgICd0b3AnLFxuICAgICAgICBgJHt0aGlzLmNvbmZpZz8ubWFyZ2luVG9wfXB4YFxuICAgICAgKTtcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQXJlYVNjcm9sbD8ubmF0aXZlRWxlbWVudCxcbiAgICAgICAgJ21hcmdpbi10b3AnLFxuICAgICAgICB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ICtcbiAgICAgICAgICB0aGlzLmNvbmZpZz8ubWFyZ2luVG9wICtcbiAgICAgICAgICAncHgnXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKFxuICAgICAgICB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQsXG4gICAgICAgICdwb3NpdGlvbi1maXhlZCdcbiAgICAgICk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZVN0eWxlKHRoaXMubmF2aWdhdGlvbkhlYWRlcj8ubmF0aXZlRWxlbWVudCwgJ3RvcCcpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVTdHlsZShcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQXJlYVNjcm9sbD8ubmF0aXZlRWxlbWVudCxcbiAgICAgICAgJ21hcmdpbi10b3AnXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBkaXNhYmxlU3RpY2t5TmF2ID0gKCkgPT4ge1xuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3MoXG4gICAgICB0aGlzLm5hdmlnYXRpb25IZWFkZXI/Lm5hdGl2ZUVsZW1lbnQsXG4gICAgICAncG9zaXRpb24tZml4ZWQnXG4gICAgKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZVN0eWxlKHRoaXMubmF2aWdhdGlvbkhlYWRlcj8ubmF0aXZlRWxlbWVudCwgJ3RvcCcpO1xuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlU3R5bGUoXG4gICAgICB0aGlzLm5hdmlnYXRpb25BcmVhU2Nyb2xsPy5uYXRpdmVFbGVtZW50LFxuICAgICAgJ21hcmdpbi10b3AnXG4gICAgKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZVN0eWxlKHRoaXMubmF2aWdhdGlvbkFyZWE/Lm5hdGl2ZUVsZW1lbnQsICdoZWlnaHQnKTtcbiAgfTtcblxuICBjb21wbGljYXRlZE1hdGhzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGxldCB3aW5kb3doZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBsZXQgdXNhYmxlSGVpZ2h0ID1cbiAgICAgIHdpbmRvd2hlaWdodCAtXG4gICAgICAodGhpcy5uYXZpZ2F0aW9uSGVhZGVyPy5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCArXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbkNvbnRlbnRUb3A/Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ICtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQ29udGVudEJvdHRvbT8ubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuXG4gICAgcmV0dXJuIHVzYWJsZUhlaWdodCA+IHdpbmRvd2hlaWdodCAvIDIgPyB0cnVlIDogZmFsc2U7XG4gIH07XG5cbiAgc2V0U2Nyb2xsYWJsZU5hdmlnYXRpb25BcmVhID0gKCkgPT4ge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoXG4gICAgICB0aGlzLm5hdmlnYXRpb24/Lm5hdGl2ZUVsZW1lbnQsXG4gICAgICAnaGVpZ2h0JyxcbiAgICAgIHRoaXMuY29uZmlnLmhlaWdodFxuICAgICk7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxuICAgICAgdGhpcy5uYXZpZ2F0aW9uPy5uYXRpdmVFbGVtZW50LFxuICAgICAgJ292ZXJmbG93LXknLFxuICAgICAgJ2F1dG8nXG4gICAgKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxuICAgICAgdGhpcy5uYXZpZ2F0aW9uPy5uYXRpdmVFbGVtZW50LFxuICAgICAgJ292ZXJmbG93LXgnLFxuICAgICAgJ2NsaXAnXG4gICAgKTtcbiAgfTtcblxuICBkaXNhYmxlU2V0U2Nyb2xsYWJsZU5hdmlnYXRpb25BcmVhID0gKCkgPT4ge1xuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlU3R5bGUodGhpcy5uYXZpZ2F0aW9uPy5uYXRpdmVFbGVtZW50LCAnaGVpZ2h0Jyk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW1vdmVTdHlsZSh0aGlzLm5hdmlnYXRpb24/Lm5hdGl2ZUVsZW1lbnQsICdvdmVyZmxvdy15Jyk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW1vdmVTdHlsZSh0aGlzLm5hdmlnYXRpb24/Lm5hdGl2ZUVsZW1lbnQsICdvdmVyZmxvdy14Jyk7XG4gIH07XG5cbiAgc2V0SW5kZXggPSAoaW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIChpbmRleCArPSAxKTtcbiAgfTtcbn1cbiIsIjxkaXZcbiAgW2lkXT1cImNvbmZpZy5pZFwiXG4gIFthdHRyLnNpemVdPVwiY29uZmlnLnNpemVcIlxuICBjbGFzcz1cImxpYi1uYXZpZ2F0aW9uXCJcbiAgI25hdmlnYXRpb25cbj5cbiAgPGRpdlxuICAgIGNsYXNzPVwibmF2aWdhdGlvbi1oZWFkZXJcIlxuICAgIFtjbGFzc109XCJuYXZpZ2F0aW9uQ2xhc3MoKVwiXG4gICAgI25hdmlnYXRpb25IZWFkZXJcbiAgPlxuICAgIDxpcmNjLWNsLWxpYi1pY29uXG4gICAgICBjbGFzcz1cImljb24tbGVhZGluZ1wiXG4gICAgICBbY29uZmlnXT1cInsgRkFfa2V5d29yZHM6IGNvbmZpZz8uaWNvbkxlYWRpbmcgfHwgJycgfVwiXG4gICAgICAoY2xpY2spPVwiY2xpY2tJY29uTGVhZGluZyhjb25maWcuaWQgKyAnX2ljb25fbGVhZGluZycpXCJcbiAgICAgIFthdHRyLnNpemVdPVwiY29uZmlnLnNpemVcIlxuICAgID48L2lyY2MtY2wtbGliLWljb24+XG4gICAgPGgzPnt7IGNvbmZpZz8ubGFiZWwgfHwgJycgfCB0cmFuc2xhdGUgfX08L2gzPlxuICAgIDxpcmNjLWNsLWxpYi1pY29uXG4gICAgICBbaWRdPVwiY29uZmlnLmlkICsgJ19pY29uX3RyYWlsaW5nJ1wiXG4gICAgICBjbGFzcz1cImljb24tdHJhaWxpbmdcIlxuICAgICAgW2F0dHIuc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICBbY29uZmlnXT1cInsgRkFfa2V5d29yZHM6IGNvbmZpZz8uaWNvblRyYWlsaW5nIHx8ICcnIH1cIlxuICAgICAgKGNsaWNrKT1cImNsaWNrSWNvblRyYWlsaW5nKGNvbmZpZy5pZCArICdfaWNvbl90cmFpbGluZycpXCJcbiAgICA+PC9pcmNjLWNsLWxpYi1pY29uPlxuICA8L2Rpdj5cblxuICA8ZGl2ICNuYXZpZ2F0aW9uQXJlYVNjcm9sbD5cbiAgICA8IS0tIHByZXR0aWVyLWlnbm9yZSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1jb250ZW50LXRvcFwiICNuYXZpZ2F0aW9uQ29udGVudFRvcCA+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW25hdmlnYXRpb25Db250ZW50VG9wXVwiPjwvbmctY29udGVudD48L2Rpdj5cblxuICAgIDwhLS0gVE9ETzogRG9jdW1lbnQgdGhpcyBsaWtlIGNyYXp5IC0gcmVjdXJzaXZlIHRlbXBsYXRpbmcgaXMgY29vbCwgYnV0IEVYVFJFTUVMWSB1bnVzdWFsIC0tPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwibmF2aWdhdGlvbi1hcmVhXCJcbiAgICAgICNuYXZpZ2F0aW9uQXJlYVxuICAgID5cbiAgICAgIDx1bCBjbGFzcz1cInBhcmVudC1uYXZpZ2F0aW9uXCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cIlxuICAgICAgICAgICAgcmVjdXJzaXZlTGlzdFRtcGw7XG4gICAgICAgICAgICBjb250ZXh0OiB7IGxpc3Q6IHRoaXMuY29uZmlnLm5hdmlnYXRpb25Db25maWcsIGluZGV4OiAwIH1cbiAgICAgICAgICBcIlxuICAgICAgICA+PC9uZy1jb250YWluZXI+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuXG4gICAgPG5nLXRlbXBsYXRlXG4gICAgICAjcmVjdXJzaXZlTGlzdFRtcGxcbiAgICAgIGxldC1saXN0PVwibGlzdFwiXG4gICAgICBsZXQtaW5kZXg9XCJpbmRleFwiXG4gICAgPlxuICAgICAgPGxpICpuZ0Zvcj1cImxldCBpdGVtIG9mIGxpc3RcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdTd2l0Y2hdPVwiaXRlbS50eXBlXCI+XG4gICAgICAgICAgPCEtLVR5cGUgSGVhZGluZy0tPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cIidoZWFkaW5nJ1wiXG4gICAgICAgICAgICA+PGlyY2MtY2wtbGliLW5hdi1oZWFkZXJcbiAgICAgICAgICAgICAgW2F0dHIuc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgICAgICAgIFtzaXplXT1cImNvbmZpZy5zaXplXCJcbiAgICAgICAgICAgICAgW2NvbmZpZ109XCJpdGVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHVsXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDBcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2hpbGQtbmF2aWdhdGlvblwiXG4gICAgICAgICAgICAgICAgW2NsYXNzXT1cIidpbmRlbnQtJyArIGluZGV4XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwiXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZUxpc3RUbXBsO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7IGxpc3Q6IGl0ZW0uY2hpbGRyZW4sIGluZGV4OiBzZXRJbmRleChpbmRleCkgfVxuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+PC91bD48L2lyY2MtY2wtbGliLW5hdi1oZWFkZXJcbiAgICAgICAgICA+PC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICA8IS0tVHlwZSBMaW5rLS0+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ2xpbmsnXCI+XG4gICAgICAgICAgICA8aXJjYy1jbC1saWItbmF2LWl0ZW1cbiAgICAgICAgICAgICAgW2F0dHIuc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgICAgICAgIFtzaXplXT1cImNvbmZpZy5zaXplXCJcbiAgICAgICAgICAgICAgW2NvbmZpZ109XCJpdGVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHVsXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDBcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2hpbGQtbmF2aWdhdGlvblwiXG4gICAgICAgICAgICAgICAgW2NsYXNzXT1cIidpbmRlbnQtJyArIGluZGV4XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwiXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZUxpc3RUbXBsO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7IGxpc3Q6IGl0ZW0uY2hpbGRyZW4sIGluZGV4OiBzZXRJbmRleChpbmRleCkgfVxuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+PC91bD48L2lyY2MtY2wtbGliLW5hdi1pdGVtXG4gICAgICAgICAgPjwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgPCEtLVR5cGUgQWNjb3JkaW9uLS0+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ2FjY29yZGlvbidcIj5cbiAgICAgICAgICAgIDxpcmNjLWNsLWxpYi1uYXYtYWNjb3JkaW9uXG4gICAgICAgICAgICAgIFthdHRyLnNpemVdPVwiY29uZmlnLnNpemVcIlxuICAgICAgICAgICAgICBbc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgICAgICAgIFtjb25maWddPVwiaXRlbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDx1bFxuICAgICAgICAgICAgICAgICpuZ0lmPVwiaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImNoaWxkLW5hdmlnYXRpb25cIlxuICAgICAgICAgICAgICAgIFtjbGFzc109XCInaW5kZW50LScgKyBpbmRleFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cIlxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVMaXN0VG1wbDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogeyBsaXN0OiBpdGVtLmNoaWxkcmVuLCBpbmRleDogc2V0SW5kZXgoaW5kZXgpIH1cbiAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgPjwvbmctY29udGFpbmVyPjwvdWxcbiAgICAgICAgICAgID48L2lyY2MtY2wtbGliLW5hdi1hY2NvcmRpb24+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XCInZGl2aWRlcidcIj5cbiAgICAgICAgICAgIDxpcmNjLWNsLWxpYi1uYXYtZGl2aWRlclxuICAgICAgICAgICAgICBbYXR0ci5zaXplXT1cImNvbmZpZy5zaXplXCJcbiAgICAgICAgICAgICAgW2NvbmZpZ109XCJpdGVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHVsXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDBcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2hpbGQtbmF2aWdhdGlvblwiXG4gICAgICAgICAgICAgICAgW2NsYXNzXT1cIidpbmRlbnQtJyArIGluZGV4XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwiXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZUxpc3RUbXBsO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7IGxpc3Q6IGl0ZW0uY2hpbGRyZW4sIGluZGV4OiBzZXRJbmRleChpbmRleCkgfVxuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+PC91bFxuICAgICAgICAgICAgPjwvaXJjYy1jbC1saWItbmF2LWRpdmlkZXI+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC9saT5cbiAgICA8L25nLXRlbXBsYXRlPlxuXG4gICAgPCEtLSBwcmV0dGllci1pZ25vcmUgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tY29udGVudC1ib3R0b21cIiAjbmF2aWdhdGlvbkNvbnRlbnRCb3R0b20+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW25hdmlnYXRpb25Db250ZW50Qm90dG9tXVwiPjwvbmctY29udGVudD48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==